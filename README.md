# SparkLog å¦™æƒ³

ä¸€ä¸ªåŸºäºGitHubä»“åº“çš„é™æ€ç¬”è®°åº”ç”¨ï¼Œæ”¯æŒå…¬å¼€ç¬”è®°åˆ†äº«ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹ç‚¹

- **çº¯é™æ€éƒ¨ç½²**: å¯æ‰˜ç®¡åœ¨Cloudflare Pagesç­‰é™æ€æ‰˜ç®¡å¹³å°
- **GitHubä»“åº“å­˜å‚¨**: æ‰€æœ‰ç¬”è®°æ•°æ®å­˜å‚¨åœ¨GitHubä»“åº“ä¸­
- **å®æ—¶ç¼–è¾‘**: åœ¨ç½‘é¡µä¸Šç›´æ¥åˆ›å»ºã€ç¼–è¾‘ç¬”è®°
- **æƒé™æ§åˆ¶**: æ”¯æŒç¬”è®°å…¬å¼€/ç§å¯†è®¾ç½®
- **å…¬å¼€åˆ†äº«**: æœªè¿æ¥ç”¨æˆ·ä¹Ÿèƒ½æŸ¥çœ‹å…¬å¼€ç¬”è®°
- **ç°ä»£åŒ–UI**: ç®€æ´ç¾è§‚çš„ç•Œé¢è®¾è®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm/yarn/pnpm

### æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/sparklog.git
cd sparklog

# å®‰è£…ä¾èµ–
npm install

# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
touch .env

# ç¼–è¾‘.envæ–‡ä»¶ï¼Œé…ç½®GitHubä»“åº“ä¿¡æ¯
# VITE_REPO_OWNER=your-github-username
# VITE_REPO_NAME=your-notes-repository
# VITE_GITHUB_TOKEN=your-github-token

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### éƒ¨ç½²åˆ°Cloudflare Pages

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

## ğŸ“ ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| `VITE_REPO_OWNER` | GitHubç”¨æˆ·å | âœ… |
| `VITE_REPO_NAME` | ä»“åº“åç§° | âœ… |
| `VITE_ADMIN_PASSWORD` | ç®¡ç†å‘˜å¯†ç  | âœ… |
| `VITE_GITHUB_TOKEN` | GitHub Token | âŒ |

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- **å…¬å¼€ç¬”è®°åˆ†äº«**: ä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹å…¬å¼€ç¬”è®°
- **ç§å¯†ç¬”è®°ä¿æŠ¤**: åªæœ‰è¿æ¥GitHubçš„ç”¨æˆ·æ‰èƒ½ç®¡ç†ç§å¯†ç¬”è®°
- **å®æ—¶ç¼–è¾‘**: æ”¯æŒMarkdownæ ¼å¼çš„ç¬”è®°ç¼–è¾‘
- **æœç´¢åŠŸèƒ½**: å¿«é€Ÿæœç´¢ç¬”è®°æ ‡é¢˜å’Œå†…å®¹
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- æ”¯æŒå›æ»šï¼šå¯ä»¥å¿«é€Ÿå›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬

### è¿æ¥GitHubé…ç½®

#### 1. åˆ›å»ºGitHub OAuthåº”ç”¨

1. **è®¿é—®GitHubå¼€å‘è€…è®¾ç½®**
   - ç™»å½•GitHubï¼Œè®¿é—® [GitHub Developer Settings](https://github.com/settings/developers)
   - ç‚¹å‡»"OAuth Apps" â†’ "New OAuth App"

2. **å¡«å†™åº”ç”¨ä¿¡æ¯**
   ```
   Application name: SparkLog
   Homepage URL: https://your-project-name.pages.dev
   Application description: åŸºäºGitHubä»“åº“çš„é™æ€ç¬”è®°åº”ç”¨
   Authorization callback URL: https://your-project-name.pages.dev/auth/callback
   ```

3. **è·å–Client IDå’ŒClient Secret**
   - åˆ›å»ºå®Œæˆåï¼Œè®°å½•ä¸‹Client ID
   - ç‚¹å‡»"Generate a new client secret"ç”ŸæˆClient Secret
   - å°†è¿™ä¸¤ä¸ªå€¼é…ç½®åˆ°Cloudflare Pagesçš„ç¯å¢ƒå˜é‡ä¸­

#### 2. ä»“åº“è¯´æ˜

**ä¸¤ä¸ªä¸åŒçš„GitHubä»“åº“ï¼š**

1. **é™æ€ç½‘é¡µä»“åº“**ï¼ˆå…¬å¼€ï¼‰
   - ç”¨é€”ï¼šå­˜æ”¾SparkLogåº”ç”¨çš„é™æ€ç½‘é¡µæ–‡ä»¶
   - ä»“åº“åï¼šä½ Forkçš„SparkLogä»“åº“ï¼ˆå¦‚`your-username/sparklog`ï¼‰
   - æƒé™ï¼šå…¬å¼€ä»“åº“ï¼Œç”¨äºCloudflare Pageséƒ¨ç½²
   - å†…å®¹ï¼šReactåº”ç”¨ä»£ç ã€æ„å»ºåçš„é™æ€æ–‡ä»¶

2. **ç¬”è®°æ•°æ®ä»“åº“**ï¼ˆç§æœ‰ï¼‰
   - ç”¨é€”ï¼šå­˜æ”¾ç”¨æˆ·çš„ç¬”è®°å†…å®¹å’Œé™„ä»¶
   - ä»“åº“åï¼š`sparklog-notes`ã€`my-notes`ç­‰
   - æƒé™ï¼šç§æœ‰ä»“åº“ï¼Œåªæœ‰ç”¨æˆ·è‡ªå·±å¯ä»¥è®¿é—®
   - å†…å®¹ï¼šç¬”è®°æ–‡ä»¶ã€å›¾ç‰‡ã€é™„ä»¶ã€å…ƒæ•°æ®ç­‰



#### 3. åˆ›å»ºç¬”è®°å­˜å‚¨ä»“åº“

1. **åˆ›å»ºç§æœ‰ä»“åº“**
   - åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ç§æœ‰ä»“åº“
   - ä»“åº“åç§°å»ºè®®ï¼š`sparklog-notes`ã€`my-notes`ã€`personal-notes`ç­‰
   - **é‡è¦**ï¼šç¡®ä¿ä»“åº“ä¸ºç§æœ‰çŠ¶æ€ï¼Œä¿æŠ¤ä½ çš„ç¬”è®°æ•°æ®

2. **ä»“åº“ç»“æ„**
   åº”ç”¨ä¼šè‡ªåŠ¨åœ¨ä»“åº“ä¸­åˆ›å»ºä»¥ä¸‹ç»“æ„ï¼š
   ```
   sparklog-notes/
   â”œâ”€â”€ notes/
   â”‚   â”œâ”€â”€ public/          # å…¬å¼€ç¬”è®°
   â”‚   â””â”€â”€ private/         # ç§å¯†ç¬”è®°
   â”œâ”€â”€ assets/
   â”‚   â”œâ”€â”€ images/          # å›¾ç‰‡æ–‡ä»¶
   â”‚   â””â”€â”€ attachments/     # å…¶ä»–é™„ä»¶
   â”œâ”€â”€ metadata/
   â”‚   â”œâ”€â”€ tags.json        # æ ‡ç­¾æ•°æ®
   â”‚   â”œâ”€â”€ settings.json    # åº”ç”¨è®¾ç½®
   â”‚   â””â”€â”€ index.json       # ç¬”è®°ç´¢å¼•
   â””â”€â”€ README.md            # ä»“åº“è¯´æ˜
   ```

#### 4. æƒé™è¯´æ˜

- **OAuthæƒé™**: `repo` (ç§æœ‰ä»“åº“è®¿é—®)
- **ä»“åº“æƒé™**: éœ€è¦ç§æœ‰ä»“åº“çš„è¯»å†™æƒé™
- **Tokenå­˜å‚¨**: ä½¿ç”¨localStorageåŠ å¯†å­˜å‚¨ï¼Œä»…åœ¨æµè§ˆå™¨ä¸­ä¿å­˜
- **æ•°æ®å®‰å…¨**: æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ç”¨æˆ·è‡ªå·±çš„GitHubä»“åº“ä¸­ï¼Œå®Œå…¨è‡ªä¸»å¯æ§

#### 5. é¦–æ¬¡ä½¿ç”¨æµç¨‹

1. **è®¿é—®åº”ç”¨**
   - æ‰“å¼€éƒ¨ç½²å¥½çš„SparkLogåº”ç”¨
   - ç‚¹å‡»"è¿æ¥GitHub"æŒ‰é’®

2. **æˆæƒGitHub**
   - è·³è½¬åˆ°GitHubæˆæƒé¡µé¢
   - ç¡®è®¤æˆæƒåº”ç”¨è®¿é—®ä½ çš„ä»“åº“

3. **é€‰æ‹©ç¬”è®°ä»“åº“**
   - ä»åˆ—è¡¨ä¸­é€‰æ‹©ç°æœ‰çš„ç§æœ‰ä»“åº“ç”¨äºå­˜å‚¨ç¬”è®°
   - æˆ–åˆ›å»ºæ–°çš„ç§æœ‰ä»“åº“ï¼ˆå¦‚`sparklog-notes`ã€`my-notes`ç­‰ï¼‰
   - **æ³¨æ„**ï¼šè¿™é‡Œé€‰æ‹©çš„æ˜¯å­˜æ”¾ç¬”è®°æ•°æ®çš„ç§æœ‰ä»“åº“ï¼Œä¸éƒ¨ç½²åº”ç”¨çš„å…¬å¼€ä»“åº“ä¸åŒ

4. **åˆå§‹åŒ–å®Œæˆ**
   - åº”ç”¨ä¼šè‡ªåŠ¨åœ¨ç¬”è®°ä»“åº“ä¸­åˆ›å»ºå¿…è¦çš„ç›®å½•ç»“æ„
   - å¼€å§‹åˆ›å»ºä½ çš„ç¬¬ä¸€ç¯‡ç¬”è®°ï¼



#### 6. æ•…éšœæ’é™¤

**å¸¸è§é—®é¢˜ï¼š**

1. **æˆæƒå¤±è´¥**
   - æ£€æŸ¥OAuthåº”ç”¨çš„Client IDå’ŒSecretæ˜¯å¦æ­£ç¡®
   - ç¡®è®¤å›è°ƒURLè®¾ç½®æ­£ç¡®
   - æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®

2. **ä»“åº“è®¿é—®å¤±è´¥**
   - ç¡®è®¤GitHubè´¦å·æœ‰ä»“åº“çš„è¯»å†™æƒé™
   - æ£€æŸ¥ä»“åº“æ˜¯å¦ä¸ºç§æœ‰ä»“åº“
   - ç¡®è®¤OAuthåº”ç”¨æœ‰`repo`æƒé™

3. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸï¼š`npm run build`
   - ç¡®è®¤distç›®å½•å­˜åœ¨ä¸”åŒ…å«æ–‡ä»¶
   - æ£€æŸ¥Cloudflare Pagesçš„æ„å»ºé…ç½®

4. **ç¯å¢ƒå˜é‡é—®é¢˜**
   - ç¡®è®¤æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡éƒ½å·²è®¾ç½®
   - æ£€æŸ¥å˜é‡åæ˜¯å¦æ­£ç¡®ï¼ˆä»¥VITE_å¼€å¤´ï¼‰
   - é‡æ–°éƒ¨ç½²åº”ç”¨ä»¥åº”ç”¨æ–°çš„ç¯å¢ƒå˜é‡

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åˆ›å»ºç¬”è®°

1. **æ–°å»ºç¬”è®°**
   - ç‚¹å‡»"æ–°å»ºç¬”è®°"æŒ‰é’®
   - æˆ–ä½¿ç”¨å¿«æ·é”® `Ctrl/Cmd + N`

2. **ç¼–è¾‘å†…å®¹**
   - ä½¿ç”¨Markdownç¼–è¾‘å™¨ç¼–å†™å†…å®¹
   - æ”¯æŒæ‰€æœ‰æ ‡å‡†Markdownè¯­æ³•
   - å®æ—¶é¢„è§ˆåŠŸèƒ½

3. **è®¾ç½®å±æ€§**
   - **æ ‡é¢˜**: ä¸ºç¬”è®°è®¾ç½®ä¸€ä¸ªæè¿°æ€§çš„æ ‡é¢˜
   - **æ ‡ç­¾**: æ·»åŠ ç›¸å…³æ ‡ç­¾ï¼Œä¾¿äºåˆ†ç±»å’Œæœç´¢
   - **æƒé™**: é€‰æ‹©"å…¬å¼€"æˆ–"ç§å¯†"
   - **æ‘˜è¦**: æ·»åŠ ç¬”è®°æ‘˜è¦ï¼ˆå¯é€‰ï¼‰

4. **ä¿å­˜ç¬”è®°**
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®æˆ–ä½¿ç”¨ `Ctrl/Cmd + S`
   - ç¬”è®°å°†è‡ªåŠ¨åŒæ­¥åˆ°GitHubä»“åº“
   - æ”¯æŒè‡ªåŠ¨ä¿å­˜åŠŸèƒ½

### ç®¡ç†ç¬”è®°

1. **æŸ¥çœ‹ç¬”è®°åˆ—è¡¨**
   - åœ¨ä¾§è¾¹æ æŸ¥çœ‹æ‰€æœ‰ç¬”è®°
   - æŒ‰åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´æˆ–æ ‡é¢˜æ’åº
   - æ”¯æŒæŒ‰æ ‡ç­¾ç­›é€‰

2. **æœç´¢ç¬”è®°**
   - ä½¿ç”¨æœç´¢æ¡†æœç´¢ç¬”è®°æ ‡é¢˜å’Œå†…å®¹
   - æ”¯æŒå…¨æ–‡æœç´¢åŠŸèƒ½
   - æœç´¢ç»“æœå®æ—¶æ˜¾ç¤º

3. **ç¼–è¾‘ç¬”è®°**
   - ç‚¹å‡»ç¬”è®°æ ‡é¢˜è¿›å…¥ç¼–è¾‘æ¨¡å¼
   - æ”¯æŒå®æ—¶ç¼–è¾‘å’Œé¢„è§ˆ
   - è‡ªåŠ¨ä¿å­˜æ›´æ”¹

4. **åˆ é™¤ç¬”è®°**
   - åœ¨ç¬”è®°ç¼–è¾‘é¡µé¢ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
   - ç¡®è®¤åˆ é™¤æ“ä½œ
   - ç¬”è®°å°†ä»GitHubä»“åº“ä¸­æ°¸ä¹…åˆ é™¤

### ä¸Šä¼ å›¾ç‰‡å’Œé™„ä»¶

1. **å›¾ç‰‡ä¸Šä¼ **
   - åœ¨ç¼–è¾‘å™¨ä¸­ç‚¹å‡»å›¾ç‰‡ä¸Šä¼ æŒ‰é’®
   - é€‰æ‹©æœ¬åœ°å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒJPGã€PNGã€GIFã€WebPï¼‰
   - å›¾ç‰‡å°†è‡ªåŠ¨å‹ç¼©å’Œä¼˜åŒ–
   - ä¸Šä¼ åˆ°ä»“åº“çš„`assets/images/`ç›®å½•

2. **æ’å…¥å›¾ç‰‡**
   - ä¸Šä¼ å®Œæˆåè‡ªåŠ¨æ’å…¥å›¾ç‰‡é“¾æ¥
   - æˆ–æ‰‹åŠ¨æ’å…¥ï¼š`![æè¿°](å›¾ç‰‡é“¾æ¥)`
   - æ”¯æŒæ‹–æ‹½ä¸Šä¼ åŠŸèƒ½

3. **é™„ä»¶ç®¡ç†**
   - æ”¯æŒä¸Šä¼ PDFã€æ–‡æ¡£ç­‰é™„ä»¶
   - å­˜å‚¨åœ¨`assets/attachments/`ç›®å½•
   - åœ¨ç¬”è®°ä¸­æ’å…¥é™„ä»¶é“¾æ¥

### æ ‡ç­¾ç®¡ç†

1. **åˆ›å»ºæ ‡ç­¾**
   - åœ¨ç¼–è¾‘ç¬”è®°æ—¶æ·»åŠ æ ‡ç­¾
   - ä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªæ ‡ç­¾
   - æ ‡ç­¾ä¼šè‡ªåŠ¨ä¿å­˜åˆ°ä»“åº“

2. **ä½¿ç”¨æ ‡ç­¾**
   - åœ¨ä¾§è¾¹æ æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
   - ç‚¹å‡»æ ‡ç­¾ç­›é€‰ç›¸å…³ç¬”è®°
   - æ”¯æŒæ ‡ç­¾æœç´¢åŠŸèƒ½

### æƒé™æ§åˆ¶

1. **å…¬å¼€ç¬”è®°**
   - é€‰æ‹©"å…¬å¼€"çš„ç¬”è®°å¯ä»¥è¢«ä»»ä½•äººæŸ¥çœ‹
   - é€‚åˆåˆ†äº«çŸ¥è¯†å’ŒæŠ€æœ¯æ–‡ç« 
   - ç¬”è®°å­˜å‚¨åœ¨`notes/public/`ç›®å½•

2. **ç§å¯†ç¬”è®°**
   - é€‰æ‹©"ç§å¯†"çš„ç¬”è®°åªæœ‰ä½ èƒ½è®¿é—®
   - é€‚åˆä¸ªäººæ—¥è®°å’Œç§å¯†å†…å®¹
   - ç¬”è®°å­˜å‚¨åœ¨`notes/private/`ç›®å½•

### æ•°æ®åŒæ­¥

1. **è‡ªåŠ¨åŒæ­¥**
   - æ‰€æœ‰æ›´æ”¹ä¼šè‡ªåŠ¨åŒæ­¥åˆ°GitHubä»“åº“
   - æ”¯æŒç¦»çº¿ç¼–è¾‘ï¼Œé‡æ–°è¿æ¥ååŒæ­¥
   - æ˜¾ç¤ºåŒæ­¥çŠ¶æ€å’Œæœ€ååŒæ­¥æ—¶é—´

2. **ç‰ˆæœ¬æ§åˆ¶**
   - æ‰€æœ‰æ›´æ”¹éƒ½æœ‰Gitæäº¤è®°å½•
   - å¯ä»¥åœ¨GitHubä¸ŠæŸ¥çœ‹å†å²ç‰ˆæœ¬
   - æ”¯æŒå›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬

### å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl/Cmd + N` | æ–°å»ºç¬”è®° |
| `Ctrl/Cmd + S` | ä¿å­˜ç¬”è®° |
| `Ctrl/Cmd + F` | æœç´¢ç¬”è®° |
| `Ctrl/Cmd + K` | å¿«é€Ÿæ‰“å¼€ |
| `Ctrl/Cmd + B` | åŠ ç²—æ–‡æœ¬ |
| `Ctrl/Cmd + I` | æ–œä½“æ–‡æœ¬ |
| `Ctrl/Cmd + L` | æ’å…¥é“¾æ¥ |
| `Ctrl/Cmd + Shift + I` | æ’å…¥å›¾ç‰‡ |

## ğŸ”§ é…ç½®è¯´æ˜

### å¼€å‘ç¯å¢ƒé…ç½®

1. **åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶**
   ```bash
   # å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
   cp .env.example .env.local
   ```

2. **é…ç½®å¼€å‘ç¯å¢ƒå˜é‡**
   ```env
   # .env.local
   VITE_GITHUB_CLIENT_ID=your_github_client_id
   VITE_GITHUB_CLIENT_SECRET=your_github_client_secret
   VITE_APP_URL=http://localhost:3000
   VITE_DEBUG=true
   ```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

åœ¨Cloudflare Pagesé¡¹ç›®è®¾ç½®ä¸­é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
VITE_GITHUB_CLIENT_ID=your_github_client_id
VITE_GITHUB_CLIENT_SECRET=your_github_client_secret
VITE_APP_URL=https://your-project-name.pages.dev
VITE_DEBUG=false
```



### ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | è¯´æ˜ | å¿…éœ€ | ç¤ºä¾‹ |
|--------|------|------|------|
| `VITE_GITHUB_CLIENT_ID` | GitHub OAuthåº”ç”¨çš„Client ID | âœ… | `abc123def456` |
| `VITE_GITHUB_CLIENT_SECRET` | GitHub OAuthåº”ç”¨çš„Client Secret | âœ… | `xyz789uvw012` |
| `VITE_APP_URL` | åº”ç”¨çš„å®Œæ•´URLåœ°å€ | âœ… | `https://sparklog.pages.dev` |
| `VITE_DEBUG` | è°ƒè¯•æ¨¡å¼å¼€å…³ | âŒ | `true` (å¼€å‘) / `false` (ç”Ÿäº§) |

## ğŸ“ é¡¹ç›®ç»“æ„

```
sparklog/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # UIç»„ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/              # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â””â”€â”€ TODO.md                 # å¼€å‘è®¡åˆ’
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

SparkLogé‡‡ç”¨çº¯å‰ç«¯æ¶æ„ï¼Œæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨GitHubä»“åº“ä¸­ï¼Œé€šè¿‡GitHub APIè¿›è¡Œæ•°æ®æ“ä½œã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æµè§ˆå™¨     â”‚    â”‚   Cloudflare    â”‚    â”‚   GitHub API    â”‚
â”‚                 â”‚    â”‚     Pages       â”‚    â”‚                 â”‚
â”‚  React App      â”‚â—„â”€â”€â–ºâ”‚   é™æ€æ‰˜ç®¡      â”‚â—„â”€â”€â–ºâ”‚   ä»“åº“å­˜å‚¨      â”‚
â”‚  (SPA)          â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **æ ·å¼**: Tailwind CSS + Headless UI
- **çŠ¶æ€ç®¡ç†**: Zustand
- **è·¯ç”±**: React Router
- **ç¼–è¾‘å™¨**: Monaco Editor
- **Markdownæ¸²æŸ“**: React Markdown
- **å›¾æ ‡**: Lucide React

### æ•°æ®å­˜å‚¨æ¶æ„

#### GitHubä»“åº“ç»“æ„
```
sparklog-repo/
â”œâ”€â”€ notes/                    # ç¬”è®°ç›®å½•
â”‚   â”œâ”€â”€ public/              # å…¬å¼€ç¬”è®°
â”‚   â””â”€â”€ private/             # ç§å¯†ç¬”è®°
â”œâ”€â”€ assets/                   # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ images/              # å›¾ç‰‡æ–‡ä»¶
â”‚   â””â”€â”€ attachments/         # å…¶ä»–é™„ä»¶
â”œâ”€â”€ metadata/                 # å…ƒæ•°æ®
â”‚   â”œâ”€â”€ tags.json            # æ ‡ç­¾æ•°æ®
â”‚   â”œâ”€â”€ settings.json        # åº”ç”¨è®¾ç½®
â”‚   â””â”€â”€ index.json           # ç¬”è®°ç´¢å¼•
â””â”€â”€ README.md                # ä»“åº“è¯´æ˜
```

#### ç¬”è®°æ•°æ®ç»“æ„
```typescript
interface Note {
  id: string;                    // ç¬”è®°å”¯ä¸€æ ‡è¯†
  title: string;                 // æ ‡é¢˜
  content: string;               // Markdownå†…å®¹
  tags: string[];                // æ ‡ç­¾åˆ—è¡¨
  isPublic: boolean;             // æ˜¯å¦å…¬å¼€
  createdAt: string;             // åˆ›å»ºæ—¶é—´
  updatedAt: string;             // æ›´æ–°æ—¶é—´
  author: string;                // ä½œè€…
  wordCount: number;             // å­—æ•°ç»Ÿè®¡
  readTime: number;              // é˜…è¯»æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
}
```

### è®¤è¯æ¶æ„

#### GitHub OAuthæµç¨‹
1. **ç”¨æˆ·ç‚¹å‡»ç™»å½•** â†’ é‡å®šå‘åˆ°GitHub OAuthé¡µé¢
2. **ç”¨æˆ·æˆæƒ** â†’ GitHubé‡å®šå‘å›åº”ç”¨ï¼Œæºå¸¦æˆæƒç 
3. **è·å–Token** â†’ ä½¿ç”¨æˆæƒç æ¢å–è®¿é—®ä»¤ç‰Œ
4. **å­˜å‚¨Token** â†’ å°†ä»¤ç‰Œå®‰å…¨å­˜å‚¨åœ¨localStorageä¸­
5. **APIè°ƒç”¨** â†’ ä½¿ç”¨ä»¤ç‰Œè°ƒç”¨GitHub API

#### æƒé™æ§åˆ¶
- **ä»“åº“æƒé™**: `repo` (ç§æœ‰ä»“åº“è®¿é—®)
- **Tokenå­˜å‚¨**: ä½¿ç”¨localStorage + åŠ å¯†
- **Tokenåˆ·æ–°**: è‡ªåŠ¨å¤„ç†tokenè¿‡æœŸ

### æ ¸å¿ƒæ¨¡å—è®¾è®¡

#### 1. GitHubæœåŠ¡æ¨¡å—
```typescript
class GitHubService {
  // è®¤è¯ç›¸å…³
  authenticate(code: string): Promise<void>
  logout(): void
  isAuthenticated(): boolean
  
  // ä»“åº“æ“ä½œ
  getRepositories(): Promise<Repository[]>
  getRepositoryContent(path: string): Promise<string>
  createFile(path: string, content: string, message: string): Promise<void>
  updateFile(path: string, content: string, message: string, sha: string): Promise<void>
  deleteFile(path: string, message: string, sha: string): Promise<void>
  
  // æ–‡ä»¶ä¸Šä¼ 
  uploadImage(file: File): Promise<string>
  uploadAttachment(file: File): Promise<string>
}
```

#### 2. ç¬”è®°ç®¡ç†æ¨¡å—
```typescript
class NoteService {
  // CRUDæ“ä½œ
  createNote(note: Note): Promise<void>
  updateNote(id: string, note: Partial<Note>): Promise<void>
  deleteNote(id: string): Promise<void>
  getNote(id: string): Promise<Note>
  getNotes(filters?: NoteFilters): Promise<Note[]>
  
  // æœç´¢åŠŸèƒ½
  searchNotes(query: string): Promise<Note[]>
  
  // æ ‡ç­¾ç®¡ç†
  getTags(): Promise<string[]>
  addTag(tag: string): Promise<void>
  removeTag(tag: string): Promise<void>
}
```

### æŠ€æœ¯éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆ

#### 1. GitHub APIé™åˆ¶
- **é—®é¢˜**: APIè°ƒç”¨é¢‘ç‡é™åˆ¶
- **è§£å†³æ–¹æ¡ˆ**: å®ç°è¯·æ±‚ç¼“å­˜å’Œé‡è¯•æœºåˆ¶

#### 2. æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
- **é—®é¢˜**: GitHub APIæ–‡ä»¶å¤§å°é™åˆ¶
- **è§£å†³æ–¹æ¡ˆ**: å®ç°æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ æˆ–ä½¿ç”¨Git LFS

#### 3. å®æ—¶åŒæ­¥
- **é—®é¢˜**: é™æ€åº”ç”¨æ— æ³•å®ç°çœŸæ­£å®æ—¶åŒæ­¥
- **è§£å†³æ–¹æ¡ˆ**: è½®è¯¢æœºåˆ¶ + ç”¨æˆ·è§¦å‘åŒæ­¥

#### 4. ç¦»çº¿åŠŸèƒ½
- **é—®é¢˜**: çº¯é™æ€åº”ç”¨ç¦»çº¿åŠŸèƒ½æœ‰é™
- **è§£å†³æ–¹æ¡ˆ**: Service Worker + localStorageç¼“å­˜

### æ€§èƒ½ä¼˜åŒ–

#### ä»£ç åˆ†å‰²
```typescript
// è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
const NoteEditPage = lazy(() => import('./pages/NoteEditPage'))
const SettingsPage = lazy(() => import('./pages/SettingsPage'))

// ç»„ä»¶çº§åˆ«çš„ä»£ç åˆ†å‰²
const MarkdownEditor = lazy(() => import('./components/MarkdownEditor'))
```

#### ç¼“å­˜ç­–ç•¥
```typescript
class CacheManager {
  private cache = new Map<string, any>()
  
  async get<T>(key: string, fetcher: () => Promise<T>): Promise<T> {
    if (this.cache.has(key)) {
      return this.cache.get(key)
    }
    
    const data = await fetcher()
    this.cache.set(key, data)
    return data
  }
}
```

#### å›¾ç‰‡ä¼˜åŒ–
- **å‹ç¼©**: å®¢æˆ·ç«¯å›¾ç‰‡å‹ç¼©
- **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨è½¬æ¢ä¸ºWebPæ ¼å¼
- **æ‡’åŠ è½½**: å›¾ç‰‡æ‡’åŠ è½½å®ç°
- **CDN**: åˆ©ç”¨GitHubçš„CDNåŠ é€Ÿ


## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- çµæ„Ÿæ¥æºäº [Memos](https://github.com/usememos/memos)
- æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€… 