# ğŸš¨ SparkLog æ•…éšœæ’é™¤æŒ‡å—

## å¿«é€Ÿè¯Šæ–­

### 1. ç¯å¢ƒå˜é‡æ£€æŸ¥

```bash
npm run check-config
```

è¿™ä¸ªå‘½ä»¤ä¼šæ£€æŸ¥æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡æ˜¯å¦å·²é…ç½®ã€‚

### 2. éƒ¨ç½²éªŒè¯

```bash
npm run verify-deployment https://your-domain.pages.dev
```

è¿™ä¸ªå‘½ä»¤ä¼šéªŒè¯ä½ çš„éƒ¨ç½²æ˜¯å¦æˆåŠŸï¼ŒåŒ…æ‹¬é™æ€å†…å®¹ã€CORS é…ç½®ç­‰ã€‚

## å¸¸è§é—®é¢˜

### âŒ CORS é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Access to fetch at '...' has been blocked by CORS policy
Failed to load resource: net::ERR_FAILED
```

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ç¡®è®¤æ„å»ºå‘½ä»¤**ï¼š
   - Cloudflare Pages æ„å»ºå‘½ä»¤å¿…é¡»æ˜¯ï¼š`npm run build:pages`
   - ä¸æ˜¯ `npm run build`

2. **æ£€æŸ¥ç¯å¢ƒå˜é‡**ï¼š
   ```bash
   npm run check-config
   ```

3. **é‡æ–°éƒ¨ç½²**ï¼š
   - åœ¨ Cloudflare Pages ä¸­æ‰‹åŠ¨è§¦å‘é‡æ–°æ„å»º
   - æˆ–è€…æ¨é€ä»£ç å˜æ›´åˆ° GitHub

### âŒ ç¬”è®°æ— æ³•åŠ è½½

**ç—‡çŠ¶**ï¼šç½‘ç«™æ˜¾ç¤ºä½†æ²¡æœ‰ç¬”è®°å†…å®¹

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ R2 å­˜å‚¨æ¡¶**ï¼š
   - ç¡®è®¤æœ‰ `notes/` ç›®å½•
   - ç¡®è®¤æœ‰ `.md` æ–‡ä»¶

2. **æ£€æŸ¥æ„å»ºæ—¥å¿—**ï¼š
   - Cloudflare Pages æ§åˆ¶å° â†’ æ„å»ºæ—¥å¿—
   - ç¡®è®¤ `build-pages.js` æ‰§è¡ŒæˆåŠŸ

3. **éªŒè¯é™æ€å†…å®¹**ï¼š
   ```bash
   npm run verify-deployment https://your-domain.pages.dev
   ```

### âŒ æ„å»ºå¤±è´¥

**ç—‡çŠ¶**ï¼šCloudflare Pages æ„å»ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ç¯å¢ƒå˜é‡**ï¼š
   - æ‰€æœ‰ R2 ç›¸å…³å˜é‡å¿…é¡»è®¾ç½®
   - ç®¡ç†å‘˜å¯†ç å¿…é¡»è®¾ç½®

2. **æ£€æŸ¥ R2 æƒé™**ï¼š
   - ç¡®è®¤ API Token æœ‰è¯»å†™æƒé™
   - ç¡®è®¤å­˜å‚¨æ¡¶åç§°æ­£ç¡®

3. **æœ¬åœ°æµ‹è¯•**ï¼š
   ```bash
   npm run build:pages
   ```

### âŒ ç½‘ç«™æ— æ³•è®¿é—®

**ç—‡çŠ¶**ï¼šéƒ¨ç½²åç½‘ç«™æ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥åŸŸåè®¾ç½®**ï¼š
   - ç¡®è®¤è‡ªå®šä¹‰åŸŸåé…ç½®æ­£ç¡®
   - æ£€æŸ¥ DNS è®°å½•

2. **æ£€æŸ¥æ„å»ºçŠ¶æ€**ï¼š
   - Cloudflare Pages æ§åˆ¶å° â†’ éƒ¨ç½²çŠ¶æ€
   - ç¡®è®¤æœ€æ–°éƒ¨ç½²æˆåŠŸ

3. **æ£€æŸ¥è·¯ç”±é…ç½®**ï¼š
   - ç¡®è®¤ `_redirects` æ–‡ä»¶å­˜åœ¨
   - ç¡®è®¤ SPA è·¯ç”±é…ç½®æ­£ç¡®

## è°ƒè¯•æ­¥éª¤

### æ­¥éª¤ 1ï¼šç¯å¢ƒæ£€æŸ¥

```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
npm run check-config

# æ£€æŸ¥æ„å»ºè„šæœ¬
npm run build:pages
```

### æ­¥éª¤ 2ï¼šéƒ¨ç½²éªŒè¯

```bash
# éªŒè¯éƒ¨ç½²
npm run verify-deployment https://your-domain.pages.dev
```

### æ­¥éª¤ 3ï¼šæ—¥å¿—åˆ†æ

1. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**ï¼š
   - ç½‘ç»œé¢æ¿ï¼šæŸ¥çœ‹è¯·æ±‚çŠ¶æ€
   - æ§åˆ¶å°ï¼šæŸ¥çœ‹é”™è¯¯ä¿¡æ¯

2. **Cloudflare Pages æ—¥å¿—**ï¼š
   - æ„å»ºæ—¥å¿—ï¼šæŸ¥çœ‹æ„å»ºè¿‡ç¨‹
   - å‡½æ•°æ—¥å¿—ï¼šæŸ¥çœ‹è¿è¡Œæ—¶é”™è¯¯

### æ­¥éª¤ 4ï¼šé…ç½®æ£€æŸ¥

1. **ç¯å¢ƒå˜é‡**ï¼š
   - R2 é…ç½®å®Œæ•´
   - ç®¡ç†å‘˜å¯†ç è®¾ç½®

2. **æ„å»ºé…ç½®**ï¼š
   - æ„å»ºå‘½ä»¤ï¼š`npm run build:pages`
   - è¾“å‡ºç›®å½•ï¼š`dist`

3. **æ–‡ä»¶é…ç½®**ï¼š
   - `_headers`ï¼šCORS ç­–ç•¥
   - `_redirects`ï¼šè·¯ç”±é‡å®šå‘

## é¢„é˜²æªæ–½

### 1. å®šæœŸæ£€æŸ¥

- æ¯å‘¨è¿è¡Œ `npm run check-config`
- éƒ¨ç½²åè¿è¡Œ `npm run verify-deployment`

### 2. ç›‘æ§æ„å»º

- è®¾ç½®æ„å»ºé€šçŸ¥
- ç›‘æ§æ„å»ºæˆåŠŸç‡

### 3. å¤‡ä»½é…ç½®

- ä¿å­˜ç¯å¢ƒå˜é‡é…ç½®
- å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶

## è·å–å¸®åŠ©

### 1. é¡¹ç›®æ–‡æ¡£

- [README.md](README.md)ï¼šè¯¦ç»†é…ç½®è¯´æ˜
- [DEPLOYMENT.md](DEPLOYMENT.md)ï¼šéƒ¨ç½²æŒ‡å—

### 2. ç¤¾åŒºæ”¯æŒ

- [GitHub Issues](https://github.com/linyuxuanlin/sparklog/issues)
- [GitHub Discussions](https://github.com/linyuxuanlin/sparklog/discussions)

### 3. ç›¸å…³èµ„æº

- [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
- [Cloudflare R2 æ–‡æ¡£](https://developers.cloudflare.com/r2/)

---

**æç¤º**ï¼šå¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. é”™è¯¯ä¿¡æ¯æˆªå›¾
2. ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéšè—æ•æ„Ÿä¿¡æ¯ï¼‰
3. æ„å»ºæ—¥å¿—
4. æµè§ˆå™¨æ§åˆ¶å°è¾“å‡º
